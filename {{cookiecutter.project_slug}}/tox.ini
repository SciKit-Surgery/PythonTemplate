# content of: tox.ini , put in same dir as setup.py
[tox]
envlist = py38,lint
skipsdist = True
requires = setuptools >= 47.1

[testenv]
deps=-rrequirements-dev.txt
; whitelist_externals=coverage,pip
; commands_pre=ipython kernel install --user --name={{ cookiecutter.pkg_name }}
# See .coveragerc for list of omitted files
commands = coverage erase
           coverage run -a --source {{ cookiecutter.pkg_name }} -m pytest -v -s tests/
           coverage report -m

[testenv:lint]
basepython=python3.8
deps=pylint
     {[testenv]deps}
commands=pylint --rcfile=tests/pylintrc {{ cookiecutter.pkg_name }}

[testenv:docs]
basepython=python3.8
changedir = docs
deps=-rrequirements-docs.txt
commands = sphinx-build -M html . build

; [testenv:installer]
; basepython=python3.8
; commands=pyinstaller --onefile {{ cookiecutter.pkg_name }}.py --noconfirm --windowed
;
; [testenv:pip3]
; basepython=python3.8
; changedir=pip_test
; skip_install=True
; commands = pip install {posargs}
;            {{ cookiecutter.pkg_name }} --help
